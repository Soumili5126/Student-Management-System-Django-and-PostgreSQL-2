{% extends "base.html" %}
{% block content %}

<h2>Edit Profile</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3 text-center">
        {% if user.profile_image %}
            <img src="{{ user.profile_image.url }}"
                class="rounded-circle mb-3"
                width="120"
                height="120"
                style="object-fit:cover;">
        {% endif %}

        <input type="file"
            name="profile_image"
            class="form-control mt-2">
    </div>
    <div class="mb-3">
        <label>First Name</label>
        <input type="text"
            name="first_name"
            class="form-control"
            value="{{ user.first_name }}">
    </div>

    <div class="mb-3">
            <label>Last Name</label>
            <input type="text"
                name="last_name"
                class="form-control"
                value="{{ user.last_name }}">
    </div>

    <div class="card p-4">

        <div class="mb-3">
            <label>Username</label>
            <input type="text"
                   name="username"
                   class="form-control"
                   value="{{ user.username }}">
        </div>

        <div class="mb-3">
            <label>Date of Birth</label>
            <input type="date"
                   name="date_of_birth"
                   class="form-control"
                   value="{{ student.date_of_birth|date:'Y-m-d' }}">
        </div>

        <div class="mb-3">
            <label>Phone</label>
            <input type="text"
                   name="phone"
                   class="form-control"
                   value="{{ student.phone }}">
        </div>

        <div class="mb-3">
            <label>Gender</label>
            <select name="gender" class="form-select">
                <option value="male" {% if student.gender == "male" %}selected{% endif %}>Male</option>
                <option value="female" {% if student.gender == "female" %}selected{% endif %}>Female</option>
                <option value="other" {% if student.gender == "other" %}selected{% endif %}>Other</option>
            </select>
        </div>

        <div class="mb-3">
            <label>Address</label>
            <textarea name="address" class="form-control">{{ student.address }}</textarea>
        </div>

        <div class="mt-4 text-center">
            <button type="submit"
                class="btn btn-success btn-sm px-4 me-2">
                Save Changes
            </button>

            <a href="{% url 'student_dashboard' %}?tab=profile"
                class="btn btn-secondary btn-sm px-4">
                Cancel
            </a>
        </div>


    </div>
</form>

{% endblock %}
