{% extends "base.html" %}
{% block content %}

<h2>Add Questions â€” {{ quiz.title }}</h2>
<p class="text-muted">Course: {{ quiz.course.code }} - {{ quiz.course.name }}</p>

<form method="post" class="card p-4 mb-4">
    {% csrf_token %}

    <div class="mb-3">
        <label>Question</label>
        <textarea name="question_text" class="form-control" required></textarea>
    </div>

    <div class="row">
        <div class="col">
            <input name="option_a" class="form-control" placeholder="Option A" required>
        </div>
        <div class="col">
            <input name="option_b" class="form-control" placeholder="Option B" required>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col">
            <input name="option_c" class="form-control" placeholder="Option C" required>
        </div>
        <div class="col">
            <input name="option_d" class="form-control" placeholder="Option D" required>
        </div>
    </div>

    <div class="mt-3">
        <label>Correct Option</label>
        <select name="correct_option" class="form-select">
            <option value="A">Option A</option>
            <option value="B">Option B</option>
            <option value="C">Option C</option>
            <option value="D">Option D</option>
        </select>
    </div>

    <button class="btn btn-success mt-3">Add Question</button>
</form>

<hr>

<h4>Existing Questions</h4>
<ul class="list-group">
{% for q in questions %}
    <li class="list-group-item">
        {{ q.question_text|truncatechars:80 }}
    </li>
{% empty %}
    <li class="list-group-item text-muted">No questions added yet</li>
{% endfor %}
</ul>

{% endblock %}
