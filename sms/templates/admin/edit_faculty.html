{% extends "base.html" %}
{% block content %}

<h2>Edit Faculty</h2>

<form method="post" class="card p-4">
{% csrf_token %}

<label>Username</label>
<input name="username"
       class="form-control mb-2"
       value="{{ faculty.user.username }}">

<label>Email</label>
<input name="email"
       class="form-control mb-2"
       value="{{ faculty.user.email }}">

<label>Department</label>
<input name="department"
       class="form-control mb-2"
       value="{{ faculty.department }}">

<label>Designation</label>
<input name="designation"
       class="form-control mb-3"
       value="{{ faculty.designation }}">

<div class="mt-3">
        <button type="submit" class="btn btn-success">
            Save
        </button>

        <a href="{% url 'admin_faculty_management' %}" class="btn btn-secondary">
            Cancel
        </a>
</div>

</form>
<hr>
<h4>Assigned Courses</h4>

<ul class="list-group mb-3">
{% for c in assigned_courses %}
<li class="list-group-item d-flex justify-content-between">
    {{ c.code }} — {{ c.name }}
    <a href="{% url 'remove_course_from_faculty' c.id %}"
       class="btn btn-sm btn-outline-danger">
       Remove
    </a>
</li>
{% empty %}
<li class="list-group-item text-muted">No courses assigned.</li>
{% endfor %}
</ul>
<h4>Assign New Course</h4>

<form method="post"
      action="{% url 'assign_course_to_faculty' faculty.id %}">
{% csrf_token %}

<select name="course_id" class="form-select">
    <option value="">-- Select Course --</option>
    {% for course in available_courses %}
        <option value="{{ course.id }}">
            {{ course.code }} — {{ course.name }}
        </option>
    {% endfor %}
</select>

<button class="btn btn-primary btn-sm">
    Assign Course
</button>
</form>
<a href="{% url 'admin_faculty_management' %}"
       class="btn btn-secondary mt-3">
       ← Go Back
</a>
{% endblock %}
