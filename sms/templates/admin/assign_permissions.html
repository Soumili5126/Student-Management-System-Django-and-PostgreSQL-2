{% extends "base.html" %}
{% block content %}

<!-- PAGE HEADER -->
<div class="mb-4">
    <h2 class="fw-semibold mb-1" style="font-size: 22px;">
        Assign Permissions
    </h2>
    <p class="text-muted small mb-0">
        Manage permissions for 
        <span class="fw-semibold">{{ faculty.username }}</span>
    </p>
</div>

<!-- CARD -->
<div class="card shadow-sm border-0">
    <div class="card-body p-4">

        <form method="POST">
            {% csrf_token %}

            <div class="row">
                {% for permission in permissions %}
                <div class="col-md-6 mb-3">
                    <div class="form-check p-3 border rounded-3 permission-item">

                        <input type="checkbox"
                               name="permissions"
                               value="{{ permission.id }}"
                               class="form-check-input me-2"
                               id="perm{{ permission.id }}"
                               {% if permission in faculty.permissions.all %}checked{% endif %}>

                        <label class="form-check-label fw-medium"
                               for="perm{{ permission.id }}">
                            {{ permission.name }}
                        </label>

                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="mt-4 d-flex gap-2">
                <button class="btn btn-primary btn-sm px-4">
                    <i class="bi bi-check-circle me-1"></i>
                    Save Permissions
                </button>

                <a href="{% url 'faculty_permission_list' %}"
                   class="btn btn-outline-secondary btn-sm">
                    Cancel
                </a>
            </div>

        </form>

    </div>
</div>

<style>

/* Permission card hover */
.permission-item {
    background: #ffffff;
    transition: 0.2s ease;
}

.permission-item:hover {
    background: #f8fafc;
    border-color: #e2e8f0;
}

/* Smaller checkbox spacing */
.form-check-input {
    transform: scale(1.1);
}

</style>

{% endblock %}