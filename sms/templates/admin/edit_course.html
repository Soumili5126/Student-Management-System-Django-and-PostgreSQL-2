{% extends "base.html" %}
{% block content %}

<h2>Edit Course</h2>

<form method="POST" class="card p-4">
    {% csrf_token %}

    <!-- Course Code -->
    <div class="mb-3">
        <label>Course Code</label>
        <input type="text" name="code"
               value="{{ course.code }}"
               class="form-control" required>
    </div>

    <!-- Course Name -->
    <div class="mb-3">
        <label>Course Name</label>
        <input type="text" name="name"
               value="{{ course.name }}"
               class="form-control" required>
    </div>

    <!-- Department Dropdown -->
    <div class="mb-3">
        <label>Department</label>
        <select name="department" class="form-select" required>
            {% for dept in departments %}
                <option value="{{ dept.id }}"
                    {% if course.department.id == dept.id %}
                        selected
                    {% endif %}
                >
                    {{ dept.name }}
                </option>
            {% endfor %}
        </select>
    </div>

    <!-- Faculty Dropdown -->
    <div class="mb-3">
        <label>Faculty</label>
        <select name="faculty" class="form-select">
            <option value="">Select Faculty</option>
            {% for faculty in faculty_list %}
                <option value="{{ faculty.id }}"
                    {% if course.faculty and course.faculty.id == faculty.id %}
                        selected
                    {% endif %}
                >
                    {{ faculty.user.username }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="mt-3">
        <button type="submit" class="btn btn-success">
            Save
        </button>

        <a href="{% url 'course_management' %}" class="btn btn-secondary">
            Cancel
        </a>
    </div>

</form>
<a href="{% url 'course_management' %}"
       class="btn btn-secondary mt-3">
       ‚Üê Go Back
</a>
{% endblock %}

